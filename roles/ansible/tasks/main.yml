---

#  - name: Install ansible
 #   apt: pkg=ansible state=installed

 # - name: Create local directory to work from
  #  file: path={{workdir}} state=directory owner=root group=root mode=0751

 # - name: Copy ansible inventory file to client
  #  copy: src=/etc/ansible/hosts dest=/etc/ansible/hosts owner=root group=root mode=0644

  - name: Transfer the script
    copy: src=hosts.sh dest=/home/pi/ mode=0777

  - name: Adding localhost to hosts
    command: sh /home/pi/hosts.sh
#- cron: name="ubigate autoupdate"
 # - name: apt-get update & upgrade
  #  apt: pkg=cron-apt state=installed
  #- name: Create crontab entry to clone/pull git repository
   # template: src=templates/etc_cron.d_ansible-pull.j2 dest=/etc/cron.d/ansible-pull owner=root group=root mode=0644

  - name: Create logrotate entry for ansible-pull.log
    template: src=templates/etc_logrotate.d_ansible-pull.j2 dest=/etc/logrotate.d/ansible-pull owner=root group=root mode=0644
 
  - name: Transfer the script
    copy: src=oh_my_zsh.sh dest=/home/pi mode=0777

  - name: adding Entry to cron.d
    template: src=etc_cron.d_zsh.j2 dest=/etc/cron.d/oh-my-zsh-update owner=root group=root mode=0644
  - name: transfer ubigate yml file
    copy: src=ubigate-update.yml dest=/home/pi owner=root group=root mode=0644
